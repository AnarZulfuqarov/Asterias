import { useTranslation } from "react-i18next";
import { useEffect, useState } from "react";
import "./index.scss";

const CircleTextBlack = () => {
    const { t, i18n } = useTranslation();
    const circleText = t("circleTextBlack").split(" ").join(" * ");

    const [fontSize, setFontSize] = useState(16);
    const [textLength, setTextLength] = useState(350);

    useEffect(() => {
        const updateSize = () => {
            const width = window.innerWidth;
            let baseFont;
            let baseLength;

            if (i18n.language === "az") baseFont = 17;
            else if (i18n.language === "en") baseFont = 13.5;
            else baseFont = 12;

            if (width < 400) {
                setFontSize(baseFont * 0.75);
                setTextLength(280); // extra small
            } else if (width < 768) {
                setFontSize(baseFont * 0.9);
                setTextLength(320); // small devices
            } else {
                setFontSize(baseFont);
                setTextLength(350); // default
            }
        };

        updateSize();
        window.addEventListener("resize", updateSize);
        return () => window.removeEventListener("resize", updateSize);
    }, [i18n.language]);

    return (
        <div className="circle-text-wrapperr">
            <svg className="circle-text-svg" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                <circle cx="100" cy="100" r="80" fill="#F2FFD8" />
                <defs>
                    <path
                        id="circlePathBlack"
                        d="M100,100 m-55,0 a55,55 0 1,1 110,0 a55,55 0 1,1 -110,0"
                        fill="none"
                        pathLength="345"
                    />
                </defs>
                <text
                    fill="#000"
                    fontSize={fontSize}
                    letterSpacing="1.4"
                    fontFamily="sans-serif"
                    fontWeight="bold"
                >
                    <textPath
                        href="#circlePathBlack"
                        startOffset="50%"
                        textAnchor="middle"
                        textLength={textLength}
                        lengthAdjust="spacingAndGlyphs"
                        dy="1"
                    >
                        {circleText}
                    </textPath>
                </text>
            </svg>

            {/* center icon */}
            <svg className="center-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M15.9999 12.8855C16.909 12.8855 17.6446 13.5993 17.6446 14.4784C17.6446 15.3576 16.9076 16.0714 15.9999 16.0714C15.0922 16.0714 14.3552 15.3576 14.3552 14.4784C14.3552 13.5993 15.0922 12.8855 15.9999 12.8855ZM21.7853 11.9882C22.2224 11.9882 22.576 12.3307 22.576 12.754C22.576 13.1773 22.2224 13.5199 21.7853 13.5199C21.3482 13.5199 20.9945 13.1773 20.9945 12.754C20.9945 12.3307 21.3496 11.9882 21.7853 11.9882ZM19.4816 12.6329C20.033 12.6329 20.4795 13.0653 20.4795 13.5993C20.4795 14.1333 20.033 14.5657 19.4816 14.5657C18.9302 14.5657 18.4838 14.1333 18.4838 13.5993C18.4838 13.0653 18.9302 12.6329 19.4816 12.6329ZM14.9523 10.9905C15.1164 10.4799 15.6758 10.196 16.2016 10.3536C16.7274 10.5125 17.022 11.0543 16.8579 11.5649C16.6938 12.0741 16.1344 12.3593 15.6086 12.2005C15.0814 12.0416 14.7882 11.4997 14.9523 10.9905ZM15.0021 8.88572C15.1312 8.48196 15.5749 8.25663 15.9918 8.38169C16.4087 8.50672 16.6414 8.93654 16.5123 9.34027C16.3818 9.74403 15.9394 9.96936 15.5225 9.84433C15.1056 9.71798 14.873 9.28949 15.0021 8.88443V8.88572ZM14.0419 4.82209C14.0943 4.65668 14.2759 4.56419 14.448 4.6163C14.6188 4.66708 14.7143 4.84292 14.6605 5.00963C14.6067 5.17503 14.4252 5.26753 14.2543 5.21671C14.0835 5.16593 13.9881 4.98879 14.0405 4.82338L14.0419 4.82209ZM14.7439 7.22639C14.8447 6.9112 15.1903 6.73539 15.5158 6.83307C15.8412 6.93074 16.0228 7.26548 15.9219 7.58067C15.821 7.89587 15.4755 8.07171 15.15 7.97271C14.8245 7.87503 14.643 7.54029 14.7439 7.2251V7.22639ZM14.4278 5.8354C14.5045 5.59705 14.7667 5.46417 15.0128 5.53842C15.2589 5.61267 15.3961 5.86664 15.3194 6.105C15.2428 6.34336 14.9806 6.47619 14.7344 6.40195C14.4883 6.3277 14.3512 6.07373 14.4278 5.8354ZM13.746 4.17607C13.7796 4.07057 13.8953 4.01196 14.0042 4.04452C14.1131 4.07708 14.1736 4.18909 14.14 4.29459C14.1064 4.40007 13.9908 4.4587 13.8819 4.42613C13.7729 4.39356 13.7124 4.28156 13.746 4.17607ZM13.3318 3.72281C13.3533 3.65639 13.4259 3.61862 13.4945 3.63946C13.5631 3.66029 13.6021 3.73063 13.5806 3.79705C13.5591 3.86348 13.4864 3.89995 13.4179 3.88041C13.3493 3.85957 13.3103 3.78924 13.3318 3.72281ZM19.9577 18.9498C20.0948 19.3509 19.8703 19.7846 19.4561 19.9175C19.0419 20.0503 18.5941 19.8328 18.4569 19.4304C18.3197 19.0292 18.5443 18.5955 18.9598 18.4626C19.3754 18.3298 19.8219 18.5473 19.9591 18.9498H19.9577ZM18.6021 17.0339C18.7756 17.5405 18.4919 18.0875 17.9687 18.2556C17.4456 18.4236 16.8808 18.1487 16.7073 17.6421C16.5338 17.1355 16.8175 16.5884 17.3407 16.4204C17.8638 16.2524 18.4286 16.5272 18.6021 17.0339ZM4.21803 13.0588C4.1602 13.0171 4.14809 12.9377 4.19112 12.883C4.23415 12.827 4.31485 12.8152 4.37269 12.8569C4.43049 12.8986 4.4426 12.9767 4.39957 13.0327C4.35654 13.0887 4.27584 13.1005 4.21803 13.0588ZM4.82586 12.9559C4.73442 12.8895 4.7156 12.7644 4.78283 12.6759C4.85144 12.5873 4.98052 12.5691 5.07199 12.6342C5.16342 12.7006 5.18224 12.8256 5.11501 12.9142C5.04641 13.0028 4.91733 13.021 4.82586 12.9559ZM6.65349 12.9298C6.44638 12.7814 6.40335 12.4974 6.55663 12.2968C6.70995 12.0963 7.00312 12.0546 7.21023 12.2031C7.41734 12.3515 7.46037 12.6355 7.30705 12.8361C7.15373 13.0366 6.86056 13.0783 6.65349 12.9298ZM8.05342 12.9975C7.78041 12.8009 7.72261 12.4271 7.92567 12.1627C8.12874 11.8983 8.51468 11.8423 8.78768 12.039C9.06069 12.2356 9.11853 12.6094 8.91546 12.8738C8.7124 13.1382 8.32642 13.1942 8.05342 12.9975ZM5.64755 12.9663C5.50366 12.8634 5.47407 12.6667 5.58032 12.5274C5.68657 12.388 5.88963 12.3594 6.03352 12.4622C6.17742 12.5651 6.207 12.7618 6.10076 12.9012C5.99451 13.0406 5.79011 13.0692 5.64755 12.9663ZM9.84337 13.4638C9.49236 13.2112 9.41975 12.7319 9.67932 12.3919C9.94018 12.052 10.4351 11.9816 10.7861 12.233C11.1371 12.4857 11.2097 12.965 10.9501 13.3049C10.6893 13.6449 10.1944 13.7152 9.84337 13.4638ZM12.0892 14.2766C11.6468 13.9575 11.554 13.3518 11.8835 12.9233C12.2116 12.4948 12.8369 12.4049 13.2794 12.7241C13.7218 13.0418 13.8146 13.6488 13.4864 14.0773C13.1583 14.5058 12.5316 14.5957 12.0892 14.2779V14.2766ZM10.4378 21.9806C10.2132 22.1043 9.92808 22.0301 9.80034 21.8125C9.67256 21.5963 9.74922 21.3189 9.97382 21.1952C10.1984 21.0714 10.4835 21.1457 10.6113 21.3632C10.739 21.5794 10.6623 21.8568 10.4378 21.9806ZM11.0618 20.7654C10.7659 20.9295 10.3893 20.8305 10.2199 20.5439C10.0505 20.2574 10.1527 19.8928 10.4485 19.7286C10.7444 19.5645 11.1209 19.6635 11.2904 19.9501C11.4598 20.2366 11.3576 20.6013 11.0618 20.7654ZM10.0693 22.8871C9.91464 22.973 9.71562 22.9209 9.62686 22.7712C9.5381 22.6201 9.59189 22.4286 9.74655 22.3427C9.90254 22.2567 10.1002 22.3088 10.189 22.4586C10.2777 22.6097 10.224 22.8011 10.0693 22.8871ZM12.2196 19.3613C11.8404 19.571 11.3576 19.4447 11.1398 19.0774C10.9219 18.7101 11.0537 18.2425 11.4329 18.0315C11.8122 17.8219 12.295 17.9482 12.5128 18.3155C12.7293 18.6828 12.5989 19.1503 12.2196 19.3613ZM13.8872 17.6929C13.4085 17.9586 12.7993 17.7984 12.5249 17.3347C12.2506 16.871 12.416 16.2797 12.8947 16.0153C13.3735 15.7497 13.9827 15.9098 14.257 16.3735C14.5314 16.8372 14.366 17.4272 13.8872 17.6929ZM17.529 21.9102C15.8869 22.7764 14.0029 23.27 12.0004 23.27C11.9265 23.27 11.8525 23.2687 11.7799 23.2674C11.9641 23.0525 12.1618 22.8428 12.373 22.6422C13.5389 21.5338 14.8057 20.639 16.7409 21.5573C16.9722 21.668 17.2385 21.7865 17.529 21.9115V21.9102ZM23.1812 14.9577C22.8705 16.087 22.3824 17.1459 21.7476 18.1058C21.4397 17.5275 21.2474 16.8593 21.2985 16.0896C22.1511 15.5035 22.6823 15.2417 23.1812 14.9577ZM23.547 11.3265C23.5631 11.5701 23.5725 11.8149 23.5725 12.0624C23.5725 12.2148 23.5685 12.3672 23.5618 12.5183C23.5443 12.5196 23.5268 12.5209 23.508 12.5209C23.1678 12.5209 22.8921 12.2539 22.8921 11.9243C22.8921 11.5948 23.1678 11.3265 23.508 11.3265C23.5201 11.3265 23.5335 11.3265 23.5456 11.3265H23.547ZM12.0018 0.857422C17.6029 0.857422 22.2734 4.71138 23.3426 9.83001C22.4967 10.222 21.6763 10.4903 20.9824 10.5372C19.9241 10.6076 19.5247 10.2273 19.054 9.37025C18.8576 9.01208 18.664 8.59136 18.469 8.16287C17.264 5.52539 14.5744 2.04395 11.1586 1.84989C11.5862 2.92571 12.4187 3.4506 12.7455 6.64552C13.0453 9.56822 12.654 9.99801 9.95633 10.1608C6.45848 10.3731 1.87132 11.9517 1.46385 14.4902C4.53136 14.4133 8.50529 13.9002 10.154 16.1834C9.02438 16.7421 7.87055 19.5971 8.23362 22.6643C3.6922 21.1496 0.429688 16.9765 0.429688 12.065C0.429688 5.87445 5.60991 0.857422 12.0018 0.857422Z" fill="#007781"/>
            </svg>
        </div>
    );
};

export default CircleTextBlack;
